:root{--bg:#0e1117;--panel:#151a22;--soft:#1b2332;--muted:#9fb0c3;--text:#e6eef8;--brand:#5b9cff;--ok:#4ad395;--warn:#ffb65b;--bad:#ff6b7a;--ring:#2a82ff55;--card-r:18px;--gap:16px;--shadow:0 10px 24px rgba(0,0,0,.45)}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font:14px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Noto Sans,Arial}
.container{max-width:100vw;margin:0 auto;padding:0}
.header{position:sticky;top:0;background:#0e1117d9;backdrop-filter:blur(8px);border-bottom:1px solid #ffffff0f;z-index:50}
.header .container{display:flex;gap:10px;align-items:center;padding:12px 16px;justify-content:flex-end}
.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;padding:16px}
/* === 頂部卡片 (card-gen / card-sim / card-stats) 排版 === */
.grid-top{
  grid-template-columns:repeat(3,minmax(260px,1fr)); /* 頂部三張卡片寬度，minmax(最小寬度, 伸縮比例) */
} /* 如需調整比例，可改寫這裡的 minmax 設定，或針對個別卡片設定 flex */
@media (max-width:1200px){.grid{grid-template-columns:repeat(2,1fr)}}
@media (max-width:780px){.grid{grid-template-columns:1fr}}
/* === 卡片通用樣式 === */
.card{background:var(--panel);border:1px solid #ffffff12;border-radius:var(--card-r);box-shadow:var(--shadow);margin:0; /* 可調整卡片上下邊距 */ }
.card h3{margin:0 0 8px;font-size:16px}
.card .head{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1px solid #ffffff12;background:linear-gradient(180deg,#171e2a,#151a22)}
.card .body{padding:14px 16px}
/* --- 卡片：產牌設定 (#card-gen) --- */
/* 需要針對 card-gen 調整樣式時，請於此區塊新增規則 */
/* --- 卡片：模擬操作 (#card-sim) --- */
/* 需要針對 card-sim 調整樣式時，請於此區塊新增規則 */
/* --- 卡片：統計與匯出 (#card-stats) --- */
.grid-top #card-stats .head{flex-wrap:nowrap;gap:12px}
.grid-top #card-stats .head .small{white-space:nowrap}
#card-gen .actions,
#card-sim .actions{flex-wrap:nowrap;overflow-x:auto}
#card-stats .body{display:flex;gap:16px;align-items:flex-end;flex-wrap:nowrap}
#card-stats .stats{flex:1;display:grid;grid-template-columns:repeat(4,minmax(70px,1fr));gap:8px;min-width:0}
#card-stats .cut-summary{display:flex;flex-direction:column;gap:4px;min-width:170px}
#card-stats .actions{margin-top:0 !important;flex:0 0 auto;align-items:flex-end;gap:8px}
.actions{display:flex;flex-wrap:wrap;gap:10px;align-items:flex-end}
label{font-size:14px;color:var(--muted);text-align:center;font-weight:600}
.input{display:flex;flex-direction:column;gap:6px;align-items:center;justify-content:center;min-width:0}
input[type=number]{height:36px;border-radius:10px;border:1px solid #2a3342;background:#0f1520;color:var(--text);padding:0 10px;outline:none;width:80px;text-align:center;font-size:16px}
select{height:36px;border-radius:10px;border:1px solid #2a3342;background:#0f1520;color:var(--text);padding:0 10px;outline:none;width:120px;text-align:center;font-size:15px}
button{height:36px;padding:0 18px;border-radius:10px;border:1px solid #2a3342;background:#133b6b;color:#e7f1ff;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;font-size:15px;font-weight:600}
button.primary{background:linear-gradient(180deg,#3278ff,#2a66df);border-color:#235bd3}
button:disabled{opacity:.6;cursor:not-allowed}
.table-wrap{border:1px solid #ffffff12;border-radius:14px;overflow:auto;background:#0e1420;margin:0; /* 可調整表格外距 */ }
.table{width:100%;border-collapse:collapse;font-variant-numeric:tabular-nums}
.table th,.table td{border-bottom:1px solid #ffffff12;padding:6px 8px;text-align:center;white-space:nowrap;font-size:15px}
.table th{position:sticky;top:0;background:#101624;z-index:1}
.win-bank{color:#ff7d7d}.win-player{color:#7ddfff}.win-tie{color:#ffd773}
.mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,"Ubuntu Mono",Consolas,monospace}
.grid-preview{display:grid;grid-template-columns:repeat(16,1fr);gap:0;border:1px solid #ffffff12;border-radius:12px;overflow:hidden;margin:0; /* 可調整預覽網格邊距 */ }
.cell{display:flex;align-items:center;justify-content:center;aspect-ratio:1/1;background:#0f1a28;border:1px solid #ffffff0d;font-weight:600;color:#d8e6ff}
.cell.card-red{background:#2d1b22;color:#ffd6dc}
.cell.card-blue{background:#162437;color:#d7e9ff}
.cell.signal-match{box-shadow:inset 0 0 0 2px #ffd591}
.stats{display:grid;grid-template-columns:repeat(4,minmax(70px,1fr));gap:8px;min-width:0}
.stat{background:var(--soft);border:1px solid #ffffff14;border-radius:12px;padding:10px;text-align:center}
.stat-label{font-size:13px;font-weight:600;margin-bottom:4px}
.stat-value{font-size:24px;font-weight:700}
.stat-S{color:#69c0ff}
.stat-H{color:#ff7a90}
.stat-D{color:#ffb74d}
.stat-C{color:#73d13d}
.cut-summary{margin-top:0;display:flex;flex-direction:column;gap:4px}
.cut-summary .mono{font-weight:600}
.toast{position:fixed;right:18px;bottom:18px;padding:10px 12px;border-radius:10px;background:#18263a;border:1px solid #2c4260;box-shadow:var(--shadow);display:none}
.spinner{display:inline-block;width:16px;height:16px;border:2px solid #2a3342;border-top-color:#5b9cff;border-radius:50%;animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
.small{font-size:12px;color:var(--muted)}
.signal-card{font-weight:700}
td.signal-card-H{color:#ff7a90 !important}
td.signal-card-S{color:#69c0ff !important}
td.signal-card-D{color:#ffb74d !important}
td.signal-card-C{color:#73d13d !important}
.color-seq span{display:inline-block}
.color-seq .color-r{color:#ff7875;font-weight:700}
.color-seq .color-b{color:#40a9ff;font-weight:700}
.sidx-ok{color:#ff7a90;font-weight:700}
.sidx-bad{color:var(--bad);font-weight:700}
.table tr.tail-row td:first-child{color:#fadb14;font-weight:700}
.modal{position:fixed;inset:0;background:#0c111b;display:none;z-index:1000}
.modal.show{display:block}
.modal .toolbar{position:sticky;top:0;display:flex;justify-content:center;gap:10px;padding:12px;background:#0c111b;border-bottom:1px solid #ffffff12}
.modal .board{padding:12px}
.modal .grid-preview{grid-template-columns:repeat(16,1fr)}
@media print{header,.grid,#toast{display:none}.modal{display:block}.modal .toolbar{display:none}.modal .board{padding:0}}
